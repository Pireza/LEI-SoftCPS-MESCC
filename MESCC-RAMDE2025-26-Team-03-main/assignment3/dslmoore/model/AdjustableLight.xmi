<?xml version="1.0" encoding="UTF-8"?>
<dslmooremachine:MooreMachine
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:dslmooremachine="http://www.example.org/dslmooremachine"
    name="Adjustable Light">
  <initialnode
      initialState="//@state.0"/>
  <event name="On pressed"
      transition="//@transition.0 //@transition.2 //@transition.4 //@transition.6"/>
  <event name="Off pressed"
      transition="//@transition.1 //@transition.3 //@transition.5"/>
  <transition
      name="Off to Dim"
      event="//@event.0"
      targetState="//@state.1"
      sourceState="//@state.0"/>
  <transition
      name="Dim to Off"
      event="//@event.1"
      targetState="//@state.0"
      sourceState="//@state.1"/>
  <transition
      name="Dim to Medium"
      event="//@event.0"
      targetState="//@state.2"
      sourceState="//@state.1"/>
  <transition
      name="Medium to Off"
      event="//@event.1"
      targetState="//@state.0"
      sourceState="//@state.2"/>
  <transition
      name="Medium to Bright"
      event="//@event.0"
      targetState="//@state.3"
      sourceState="//@state.2"/>
  <transition
      name="Bright to Off"
      event="//@event.1"
      targetState="//@state.0"
      sourceState="//@state.3"/>
  <transition
      name="Bright to Dim"
      event="//@event.0"
      targetState="//@state.1"
      sourceState="//@state.3"/>
  <output name="Dark"
      state="//@state.0"/>
  <output name="Low brightness"
      state="//@state.1"/>
  <output name="Medium  brightness"
      state="//@state.2"/>
  <output name="High brightness"
      state="//@state.3"/>
  <state name="Light Off"
      output="//@output.0"
      incoming="//@transition.1 //@transition.3 //@transition.5"
      outgoing="//@transition.0"
      initialnode="//@initialnode"/>
  <state name="Light On - Dim"
      output="//@output.1"
      incoming="//@transition.0 //@transition.6"
      outgoing="//@transition.1 //@transition.2"/>
  <state name="Light On - Medium"
      output="//@output.2"
      incoming="//@transition.2"
      outgoing="//@transition.3 //@transition.4"/>
  <state name="Light On - Bright"
      output="//@output.3"
      incoming="//@transition.4"
      outgoing="//@transition.5 //@transition.6"/>
</dslmooremachine:MooreMachine>
